name: transcendence-simple

services:
  reverse-proxy:
    image: nginx:1.29.1-alpine-slim
    ports:
      - "8080:80"
      - "8443:443"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      # Mount the built frontend
      - ../frontend:/usr/share/nginx/html:ro
      # Mount nginx config for local development
      - ../infrastructure/reverse-proxy/nginx-local.conf:/etc/nginx/nginx.conf:ro
      # Mount SSL certificates
      - ../frontend/certs:/etc/nginx/certs:ro
    restart: "no"
